# M5Stack Printer Demo Test Configuration
# Add this to your ESPHome device configuration

substitutions:
  device_name: "thermal-printer-demo"
  friendly_name: "Thermal Printer Demo"

esphome:
  name: ${device_name}
  platform: ESP32
  board: m5stack-core-esp32

wifi:
  ssid: "YourWiFiSSID"
  password: "YourWiFiPassword"

logger:

api:
  # Enable Home Assistant API
  services:
    # Full demo service - runs all capabilities
    - service: run_full_demo
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            # No parameters = full demo
    
    # Partial demo services for specific capabilities        
    - service: demo_qr_codes
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_qr_code: true
            
    - service: demo_barcodes
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_barcode: true
            
    - service: demo_text_styles
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_text_styles: true
            
    - service: demo_inverse_mode
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_inverse: true
            
    - service: demo_rotation
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_rotation: true
            
    # Custom demo with multiple features
    - service: demo_qr_and_barcode
      then:
        - m5stack_printer.run_demo:
            id: thermal_printer
            show_qr_code: true
            show_barcode: true

ota:

uart:
  - id: thermal_uart
    tx_pin: GPIO17
    rx_pin: GPIO16
    baud_rate: 9600
    
display:
  - platform: m5stack_printer
    uart_id: thermal_uart
    height: 200
    id: thermal_printer

# Optional: Button to trigger demo on device
button:
  - platform: template
    name: "Run Full Demo"
    on_press:
      - m5stack_printer.run_demo:
          id: thermal_printer
          # Full demo when no parameters specified
          
  - platform: template
    name: "QR Code Demo"
    on_press:
      - m5stack_printer.run_demo:
          id: thermal_printer
          show_qr_code: true
          
  - platform: template  
    name: "Barcode Demo"
    on_press:
      - m5stack_printer.run_demo:
          id: thermal_printer
          show_barcode: true
          
  - platform: template
    name: "Text Styles Demo" 
    on_press:
      - m5stack_printer.run_demo:
          id: thermal_printer
          show_text_styles: true