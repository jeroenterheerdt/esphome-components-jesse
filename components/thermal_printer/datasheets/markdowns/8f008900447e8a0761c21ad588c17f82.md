## Special orders

Command quick NO The command instruction
01 GS ( k pL pH cn fn m (fn=81) Print the QR code
Print command
02 GS k m v r nL nH d1…dk Print qr code
03 GS V m 和 GS V m n Select the cutting pattern and cut the paper
Paper cutting
04 ESC i The whole paper cutting
command
05 ESC m A paper cutting
06 ESC B n Set black label to detect maximum length
Black label
Enter black label paper to print start
set 07 GS FF
position
Accessibilit 08 ESC 8 n1 n2 Setting sleep parameters
y Settings 09 ESC p m t1 t2 Generate the chest pulse
10 DLE ENQ n （New features ） Real-time printer requests
State
Allow and prohibit automatic status reply
instruction 11 GS a n （New features ）
(ASB)
The new Horizontal position printing line segment
12 GS ‘ n x1sL x1eH x1eL x1eH ...
directive (curve print command)

11

---

01 GS ( k pL pH cn fn m (fn=81)

Instruction
Print the QR code
names

ASCII CODE GS ( k pL pH cn fn m

Instruction Decimal code 29 40 107 pL pH cn fn m

code Hexadecimal
1D 28 6b pL pH cn fn m
code

Functional
Print the data to receive QR codes in a 2d barcode area.
description

pL=3, pH=0

parameters cn=49
fn=81
m=48

The default
无
value

considerati The user must consider the space of the QR code graphics (the spacing of the QR code graphics

ons and the spacing of the left and right are specified in the specification).

And
无
according to

QR code test data (hexadecimal)
1b 40
1d 28 6b 03 00 31 43 03
1d 28 6b 03 00 31 45 30
1d 28 6b 06 00 31 50 30 41 42 43
1b 61 01
1d 28 6b 03 00 31 52 30
1d 28 6b 03 00 31 51 30
instruction ：
Use the 1b 40
Printer initialization
sample
1d 28 6b 03 00 31 43 03
Set the QR code graphics unit module to 3 point x 3 point
1d 28 6b 03 00 31 45 30
Set the QR code to verify class L
1d 28 6b 06 00 31 50 30 41 42 43
Transmit QR code data "ABC"
1b 61 01
Graphics centered
1d 28 6b 03 00 31 52 30
See if the QR code data is normal
22

---

1d 28 6b 03 00 31 51 30
Print the QR code

02 GS k m v r nL nH d1…dk

Instruction
Print qr code
names

ASCII CODE GS k m v r nL nH d1…dk

Instruction Decimal code 29 107 97 v r nL nH d1…dk

code Hexadecimal
1D 6B 61 v r nl nH d1…dk
code

Print qr code
Functional V represents the specification of qr code, and v = 0 means automatic selection of qr code specifications
R stands for error correction
description
NL nH represents the data length
D1... Dk represents the qr code data to be printed
0 ≤ v ≤ 17
parameters
1 ≤ r ≤ 4
k = nL + 256 * nH

The default
nothing
value

considerati
nothing
ons

And
nothing
according to

1b 40
1D 6B 61 08 02 08 00 30 31 32 33 34 35 36 37 0A

instruction ：
void Print_Qr(u8 *p, u16 Size)
{

Use the u16 i;

sample
u3_print(0x1D);
u3_print(0x6B);
u3_print(0x61);

//In the range 0<= v <= 17
u3_print(10); //v Indicates the size of qr code

//r Indicates the level of error correction

33

---

//In the range 1<= r <= 4
u3_print(0x02);

//nL nH Data length
u3_print(Size % 256); // nL
u3_print(Size / 256);// nH

//The data length is equal to nL + 256 *nH
for(i = 0; i < Size; i++)
{
u3_print(*(p + i));
}

u3_print(0x0A);

}
If you want to generate a qr code for ABCD, you call this function
Such as: Print_Qr (" ABCD "); Can.

03 GS V m and GS V m n

Instruction
Select the cutting pattern and cut the paper
names

ASCII CODE GS V m

Decimal code 29 86 m

Hexadecimal
1D 56 m
Instruction
code

code ASCII CODE GS V m n

Decimal code 29 86 m n

Hexadecimal
1D 56 m n
code

Choose a paper cutting pattern and cut paper.
Select the paper-cutting mode according to the value of m, as shown below ：
Functional
M Paper cutting patterns
description 0, 48 All cut
1, 49 Half cut
66 Paper cutting and cutting paper

parameters ① m = 0，48，1，49
② m = 66， 0 ≤ n ≤ 255

The default
Nothing
value

This command is only effective at the beginning 。
considerati
• m = 0，48，1， 49，The printer cuts the paper directly。

44

---

ons • when m = 66, the printer is in the paper [print position to the distance between the cutting knife + n x
(longitudinal unit of movement)] and then cut the paper.
• horizontal moving units and longitudinal moving units are set by the GS P command.
• the volume of feed is calculated using a longitudinal moving unit.

And
Nothing
according to

1B 40
30 30 30 0D 0A
Use the 1D 56 00
30 30 30 0D 0A
sample
1D 56 01
30 30 30 0D 0A
1D 56 42 00

04 ESC i

Instruction
The whole paper cutting
names

ASCII CODE ESC i

Instruction Decimal code 27 105

code Hexadecimal
1B 69
code

Functional
Select the cutter mode and all cut
description

parameters
Nothing

The default
Nothing
value

considerati
Nothing
ons

And
Nothing
according to

Use the 1B 40
30 30 30 0D 0A
sample
1B 69

05 ESC m

Instruction A paper cutting

55

---

names

ASCII CODE ESC m

Instruction Decimal code 27 109

code Hexadecimal
1B 6D
code

Functional
Nothing
description

parameters
0 ≤ n ≤ 255

The default
Nothing
value

considerati
Nothing
ons

And
Nothing
according to

Use the 1B 40
30 30 30 0D 0A
sample
1B 6D

06 ESC B n

Instruction
Set the maximum length of the black mark
names

ASCII CODE ESC B n

Instruction Decimal code 27 67 n

code Hexadecimal
1B 43 n
code

Functional
With the current row spacing as the unit, the black mark range is defined by the number of rows, and
description the default value is 4 inches.

parameters
Nothing

The default
Nothing
value

considerati Nothing

66

---

ons

And
Nothing
according to

Use the
Nothing
sample

07 GS FF

Instruction
Enter black label paper to print start position
names

ASCII CODE GS FF

Instruction Decimal code 29 12

code Hexadecimal
1D 0C
code

Functional
Enter black label paper to print start position
description

parameters
Nothing

The default
Nothing
value

considerati
This command sets the next print location to the start line.
ons

And
Nothing
according to

Use the
Nothing
sample

08 ESC 8 n1 n2

Instruction
Setting sleep parameters
names

ASCII CODE ESC 8 n1 n2
Instruction
Decimal code 27 56 n1 n2
code
Hexadecimal 1B 38 n1 n2

77

---

code

After setting free time, the control board enters the sleep time.
N1 + n2 * 256 sleep wait time, unit (10 ms), default value 0;
A value of 0 is equal to not sleeping. The minimum value is 200 milliseconds when it is not
Functional
equal to 0.
description After entering the sleep, the host must first send a byte of data (0xff) to wake the control
panel and wait 50 milliseconds before starting to send the print command or data.
Description: this command is mainly used for battery power supply system and requires low power
consumption.

parameters
Nothing

The default
Nothing
value

considerati
Nothing
ons

And
Nothing
according to

Use the
Nothing
sample

09 ESC p m t1 t2

Instruction
Generate the chest pulse
names

ASCII CODE ESC p m t1 t2

Instruction Decimal code 27 112 m t1 t2

code Hexadecimal
1B 70 m t1 t2
code

Functional
The output pulse (the pulse is specified by t1 and t2) to the pins specified by m
description

m=0,1,48,49
parameters
0 ≤ t1 ≤ 255
0 ≤ t2 ≤ 255

The default
Nothing
value

considerati 1. The box pins are specified by m ；

88

---

ons
m function
0,48 Cash box opening/closing signal (connecting pin 2)
1,49 Cash box opening/closing signal (connecting pin 5)

2. The box opens always [t1 * 2ms], while the closing time is [t2 * 2ms].
3. If t2 < t1, then the closure is [t1 * 2ms].

And
Nothing
according to

Use the 1B 40
1B 70 00 60 60
sample
1B 70 01 60 60

10 DLE ENQ n

Instruction
Real-time printer requests
names

ASCII CODE DLE ENQ n

Instruction Decimal code 16 5 n

code Hexadecimal
10 05 n
code

The printer responds to the host request. N specifies the following request ：
Functional
n request
description 1 Start again from error recovery and start from the wrong line 。
2 Recover from error after clearing the receiving and printing buffer 。

parameters
n = 1, 2

The default
Nothing
value

This command is valid only when the automatic paper cutter error occurs when the deck opens the error.
The printer starts processing the data as soon as it receives the command.
This command is still executed even if the printer is offline and the print buffer is full or the serial
interface mode is wrong.
In parallel interface mode, this command cannot be executed when the printer is busy.
No matter when you receive < 10 > H < 05 > H < n > (1 or less than n = 2), the data sequence will be
considerati sent.
Such as:
ons
ESC * m nH nH dk, d1 = < 10 > H, d2 = < 05 > H, d3 = < 01 > H
In a data containing two or more bytes of command, this command cannot be used.
Such as:
If you want to send the ESC 3n to the printer, but before n is sent, the DTR (for the host is DSR) will
become MARK, so the DLE ENQ2 is interrupted before n is received. DLE ENQ 2 code < 10 > H will be
treated as ESC 3 code < 10 > H.
DLE ENQ 2 allows the printer to recover from the error state after the data in the receive buffer and print

99

---

buffer is cleared. The printer retains the Settings for the valid state when the error occurs (ESC! ESC3,
etc. You can use this command and ESC @ to initialize the printer completely. This command is only
valid for errors that are likely to be restored, except for a header temperature error.

And
Nothing
according to

Use the
10 05 01
sample

11 GS a n

Instruction
Allow and prohibit automatic status reply (ASB)
names

ASCII CODE GS a n

Instruction Decimal code 29 97 n

code Hexadecimal
1d 61 n
code

The ASB is allowed or prohibited, and the included status items are specified by n, as shown
below ：
Place Close/Open Hexadecimal Decimal ASB state
code code
0 - - - undefined
Functional 1 - - - undefined
2 Close 00 0 Error status forbidden
description
Open 04 4 Error status permitting
3 Close 00 0 Printing paper roll sensor
status is prohibited
Open 08 8 Printing paper roll sensor
status allows
4-7 - - - undefined

parameters 0≤n≤255

The default
Nothing
value

If any of the state items in the table is allowed, the printer loses state when the command
is executed. As soon as the "allowed" status changes, the printer automatically transfers
state. Because each state transfer represents the current state, the prohibited status item
considerati can be changed.
The ASB function is also prohibited if all status items are prohibited.
ons
If ASB is allowed as the default setting, the printer is transferred when the printer is opened
for the first time to receive and transmit printer data.
Transfer the following four status bytes without having to determine if the host is ready to
receive data. The four state bytes must be contiguous, except for XOFF code.

1010

---

Because the command data is processed in the receiving buffer, there may be a lag time between
the data receive and the state transfer.
When using DLE EOT, you must distinguish between the state of these commands and the state
of ASB.

And
Nothing
according to

Use the
1D 61 08
sample

12 GS ‘ n x1sL x1eH x1eL x1eH ...xnsL xnsH xneL xneH
Instruction
Horizontal position printing line segment (curve print command)
names
ASCII CODE GS ‘ n x1sL x1eH x1eL x1eH ...xnsL xnsH xneL xneH

Decimal code 1D 27 n x1sL x1eH x1eL x1eH ...xnsL xnsH xneL xneH
Instruction
code Hexadecimal
29 39 n x1sL x1eH x1eL x1eH ...xnsL xnsH xneL xneH
code

The printed enlargement diagram is shown below: each horizontal curve segment can be considered
as a component of these points with length 1. Print n line segments, and you can print out the desired
curves continuously using this command.

Functional
description

XksL: horizontal coordinates of the lower level of K line;
XksH: the horizontal coordinate of the starting point of the K line;
XkeL: the horizontal coordinates of low order at the end of K line;
XkeH: the horizontal coordinate of the higher order at the end of the K line;

The starting position of the coordinates is usually the left of the printed area. The minimum coordinates
are (0, 0) and the maximum coordinates are 383, xkeL + xkeH * 256
The line data can be arranged in a different order;
Char SendStr[8];

1111

---

Char SendStr2[16];
Float i;
Short y1,y2,y1s,y2s;
//Print the Y axis (a line)
SendStr[0]=0x1D;
SendStr[1]=0x27;
SendStr[2]=1； // A line of
SendStr[3]=30
SendStr[4]=0; //The starting point
SendStr[5]=104;
SendStr[6]=1; //The end point
PreSendData(SendStr,7);

//Print curve
SendStr[0]=0x1D;
SendStr[1]=0x27;
SendStr[2]=3; //Three lines:X-axis,sin and cos function curve
SendStr[3]=180; SendStr[4]=0; // The X axis location
SendStr[5]=180; SendStr[6]=0;
for(i=1;i<1200;i++)
{
y1=sin(i/180*3.1416)*(380-30)/2+180; //Calculate the sine function
y2=cos(i/180*3.1416)*(380-30)/2+180; //Compute the cosine function coordinates
If(i==1){y1s=y1;y2s=y2;}
PreSendData(SendStr,7);

If(y1s<y1)
{
PreSendData(&y1s,2); //The sine function at the beginning of the line
PreSendData(&y1,2); //The sine function at the end of the line
}
Else
{
PreSendData(&y1,2); //The sine function at the beginning of the line
PreSendData(&y1s,2); //The sine function at the end of the line
}
If(y2s<y2)
{
PreSendData(&y2s,2); //The cosine function at the beginning of the line
PreSendData(&y2,2); //The cosine function at the end of the line
}
Else
{
PreSendData(&y2,2); //The cosine function at the beginning of the line
PreSendData(&y2s,2); //The cosine function at the end of the line
}
y1s=y1; // When the print enters the next line, the sine function curve starts at the
horizontal axis
y2s=y2; //When the print enters the next line, the cosine function curve starts at the
1212

---

horizontal axis
}
parameters 0≤n≤8
The default
Nothing
value
considerati
Print a point，The xkeL=xksL , xkeH=xksH
ons
And
Nothing
according to
1d 27 01 00 00 00 00
1d 27 01 01 00 0f 00 1d 27 01 10 00 1f 00
1d 27 01 20 00 2c 00 1d 27 01 2d 00 3a 00
1d 27 01 3b 00 44 00 1d 27 01 45 00 4c 00
1d 27 01 4d 00 54 00 1d 27 01 55 00 5c 00
1d 27 01 5d 00 63 00 1d 27 01 64 00 6a 00
1d 27 01 6b 00 71 00 1d 27 01 72 00 77 00
1d 27 01 78 00 7d 00 1d 27 01 7e 00 84 00
1d 27 01 85 00 8a 00 1d 27 01 8b 00 91 00
1d 27 01 92 00 97 00 1d 27 01 98 00 9d 00
1d 27 01 9e 00 a3 00 1d 27 01 a4 00 a9 00
1d 27 01 aa 00 af 00 1d 27 01 b0 00 b4 00
1d 27 01 b5 00 b9 00 1d 27 01 ba 00 bf 00
1d 27 01 c0 00 c4 00 1d 27 01 c5 00 c9 00
1d 27 01 ca 00 cf 00 1d 27 01 d0 00 d4 00
1d 27 01 d5 00 d8 00 1d 27 01 d9 00 dc 00
1d 27 01 dd 00 df 00 1d 27 01 e0 00 e3 00
1d 27 01 e4 00 e6 00 1d 27 01 e7 00 e9 00
1d 27 01 ea 00 ec 00 1d 27 01 ed 00 ef 00
Use the
1d 27 01 f0 00 f1 00 1d 27 01 f2 00 f3 00
sample
1d 27 01 f4 00 f5 00 1d 27 01 f6 00 f7 00
1d 27 01 f8 00 f8 00 1d 27 01 f9 00 fa 00
1d 27 01 fb 00 fb 00 1d 27 01 fc 00 fd 00
1d 27 01 fe 00 fe 00 1d 27 01 ff 00 ff 00
1d 27 01 00 01 00 01 1d 27 01 01 01 01 01
1d 27 01 02 01 02 01 1d 27 01 03 01 03 01
1d 27 01 04 01 04 01 1d 27 01 05 01 05 01
1d 27 01 06 01 06 01 1d 27 01 06 01 06 01
1d 27 01 07 01 07 01 1d 27 01 07 01 07 01
1d 27 01 07 01 07 01 1d 27 01 07 01 07 01
1d 27 01 07 01 07 01 1d 27 01 06 01 06 01
1d 27 01 06 01 06 01 1d 27 01 05 01 05 01
1d 27 01 04 01 04 01 1d 27 01 04 01 04 01
1d 27 01 03 01 03 01 1d 27 01 02 01 02 01
1d 27 01 00 01 00 01 1d 27 01 ff 00 ff 00
1d 27 01 fe 00 fe 00 1d 27 01 fc 00 fd 00
1d 27 01 f9 00 fa 00 1d 27 01 f8 00 f8 00
1d 27 01 f6 00 f7 00 1d 27 01 f4 00 f5 00
1d 27 01 f2 00 f3 00 1d 27 01 f0 00 f1 00

1313

---

1d 27 01 ed 00 ef 00 1d 27 01 ea 00 ec 00
1d 27 01 e7 00 e9 00 1d 27 01 e4 00 e6 00
1d 27 01 e0 00 e3 00 1d 27 01 dd 00 df 00
1d 27 01 d9 00 dc 00 1d 27 01 d5 00 d8 00
1d 27 01 d0 00 d4 00 1d 27 01 ca 00 cf 00
1d 27 01 c5 00 c9 00 1d 27 01 c0 00 c4 00
1d 27 01 ba 00 bf 00 1d 27 01 b5 00 b9 00
1d 27 01 b0 00 b4 00 1d 27 01 aa 00 af 00
1d 27 01 a4 00 a9 00 1d 27 01 9e 00 a3 00
1d 27 01 98 00 9d 00 1d 27 01 92 00 97 00
1d 27 01 8b 00 91 00 1d 27 01 85 00 8a 00
1d 27 01 7e 00 84 00 1d 27 01 78 00 7d 00
1d 27 01 72 00 77 00 1d 27 01 6b 00 71 00
1d 27 01 64 00 6a 00 1d 27 01 5d 00 63 00
1d 27 01 55 00 5c 00 1d 27 01 4d 00 54 00
1d 27 01 45 00 4c 00 1d 27 01 3b 00 44 00
1d 27 01 2d 00 3a 00 1d 27 01 20 00 2c 00
1d 27 01 10 00 1f 00 1d 27 01 01 00 0f 00
1d 27 01 00 00 00 00 1d 27 01 00 00 00 00
1d 27 01 01 00 0f 00 1d 27 01 10 00 1f 00
1d 27 01 20 00 2c 00 1d 27 01 2d 00 3a 00
1d 27 01 3b 00 44 00 1d 27 01 45 00 4c 00
1d 27 01 4d 00 54 00 1d 27 01 55 00 5c 00
1d 27 01 5d 00 63 00 1d 27 01 64 00 6a 00
1d 27 01 6b 00 71 00 1d 27 01 72 00 77 00
1d 27 01 78 00 7d 00 1d 27 01 7e 00 84 00
1d 27 01 85 00 8a 00 1d 27 01 8b 00 91 00
1d 27 01 92 00 97 00 1d 27 01 98 00 9d 00
1d 27 01 9e 00 a3 00 1d 27 01 a4 00 a9 00
1d 27 01 aa 00 af 00 1d 27 01 b0 00 b4 00
1d 27 01 b5 00 b9 00 1d 27 01 ba 00 bf 00
1d 27 01 c0 00 c4 00 1d 27 01 c5 00 c9 00
1d 27 01 ca 00 cf 00 1d 27 01 d0 00 d4 00
1d 27 01 d5 00 d8 00 1d 27 01 d9 00 dc 00
1d 27 01 dd 00 df 00 1d 27 01 e0 00 e3 00
1d 27 01 e4 00 e6 00 1d 27 01 e7 00 e9 00
1d 27 01 ea 00 ec 00 1d 27 01 ed 00 ef 00
1d 27 01 f0 00 f1 00 1d 27 01 f2 00 f3 00
1d 27 01 f4 00 f5 00 1d 27 01 f6 00 f7 00
1d 27 01 f8 00 f8 00 1d 27 01 f9 00 fa 00
1d 27 01 fb 00 fb 00 1d 27 01 fc 00 fd 00
1d 27 01 fe 00 fe 00 1d 27 01 ff 00 ff 00
1d 27 01 00 01 00 01 1d 27 01 01 01 01 01
1d 27 01 02 01 02 01 1d 27 01 03 01 03 01
1d 27 01 04 01 04 01 1d 27 01 05 01 05 01
1d 27 01 06 01 06 01 1d 27 01 06 01 06 01
1d 27 01 07 01 07 01 1d 27 01 07 01 07 01
1d 27 01 07 01 07 01 1d 27 01 07 01 07 01
1d 27 01 07 01 07 01 1d 27 01 06 01 06 01
1414

---

1d 27 01 06 01 06 01 1d 27 01 05 01 05 01
1d 27 01 04 01 04 01 1d 27 01 04 01 04 01
1d 27 01 03 01 03 01 1d 27 01 02 01 02 01
1d 27 01 00 01 00 01 1d 27 01 ff 00 ff 00
1d 27 01 fe 00 fe 00 1d 27 01 fc 00 fd 00
1d 27 01 f9 00 fa 00 1d 27 01 f8 00 f8 00
1d 27 01 f6 00 f7 00 1d 27 01 f4 00 f5 00
1d 27 01 f2 00 f3 00 1d 27 01 f0 00 f1 00
1d 27 01 ed 00 ef 00 1d 27 01 ea 00 ec 00
1d 27 01 e7 00 e9 00 1d 27 01 e4 00 e6 00
1d 27 01 e0 00 e3 00 1d 27 01 dd 00 df 00
1d 27 01 d9 00 dc 00 1d 27 01 d5 00 d8 00
1d 27 01 d0 00 d4 00 1d 27 01 ca 00 cf 00
1d 27 01 c5 00 c9 00 1d 27 01 c0 00 c4 00
1d 27 01 ba 00 bf 00 1d 27 01 b5 00 b9 00
1d 27 01 b0 00 b4 00 1d 27 01 aa 00 af 00
1d 27 01 a4 00 a9 00 1d 27 01 9e 00 a3 00
1d 27 01 98 00 9d 00 1d 27 01 92 00 97 00
1d 27 01 8b 00 91 00 1d 27 01 85 00 8a 00
1d 27 01 7e 00 84 00 1d 27 01 78 00 7d 00
1d 27 01 72 00 77 00 1d 27 01 6b 00 71 00
1d 27 01 64 00 6a 00 1d 27 01 5d 00 63 00
1d 27 01 55 00 5c 00 1d 27 01 4d 00 54 00
1d 27 01 45 00 4c 00 1d 27 01 3b 00 44 00
1d 27 01 2d 00 3a 00 1d 27 01 20 00 2c 00
1d 27 01 10 00 1f 00 1d 27 01 01 00 0f 00
1d 27 01 00 00 00 00

1515

---